(window.webpackJsonp=window.webpackJsonp||[]).push([[3,2],{300:function(t,e,r){"use strict";r.r(e);var n={name:"card",props:{imdbID:String,title:String,description:String,image:String},mounted:function(){},methods:{addToHistory:function(){this.$nuxt.$router.push("/movie/".concat(this.imdbID))},addToCart:function(){this.checkIfInCart(this.$store.getters.getCart,this.imdbID)||this.$store.dispatch("addCartItem",{imdbID:this.imdbID,title:this.title})},removeFromCart:function(){this.checkIfInCart(this.$store.getters.getCart,this.imdbID)&&this.$store.dispatch("removeCartItem",this.imdbID)}},computed:{}},o=r(68),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card shadow bg-white rounded mb-2"},[r("b-badge",{staticClass:"badge-zoom-in cursor",attrs:{variant:"success"},on:{click:function(e){return t.$nuxt.$emit("zoomInPoster",t.image)}}},[r("b-icon",{attrs:{icon:"zoom-in"}})],1),t._v(" "),this.checkIfInCart(this.$store.getters.getCart,this.imdbID)?r("b-badge",{staticClass:"badge-add-cart cursor",attrs:{variant:"warning"},on:{click:t.removeFromCart}},[r("b-icon",{attrs:{icon:"cart-dash"}})],1):r("b-badge",{staticClass:"badge-add-cart cursor",attrs:{variant:"warning"},on:{click:t.addToCart}},[r("b-icon",{attrs:{icon:"cart-plus"}})],1),t._v(" "),r("b-img-lazy",{staticClass:"card-img-top img-adjusted card-image cursor",attrs:{fluid:"",src:t.image,alt:"Movie Poster"},on:{click:t.addToHistory}}),t._v(" "),r("div",{staticClass:"card-body cursor",on:{click:t.addToHistory}},[r("h6",{staticClass:"card-text-title"},[t._v(t._s(t.title))]),t._v(" "),r("small",{staticClass:"card-text"},[t._v(t._s(t.description))])])],1)}),[],!1,null,"25283542",null);e.default=component.exports},302:function(t,e,r){"use strict";r.r(e);var n=r(37),o=(r(84),{components:{Card:r(300).default},data:function(){return{loading:!0,paginatedMovies:null,currentPage:1,searchQuery:"Interstellar",perPage:10,totalItems:null,modalImage:null}},created:function(){var t=this;this.$nuxt.$on("zoomInPoster",(function(e){e&&(t.modalImage=e,t.$bvModal.show("modal-zoomed-image"))}))},beforeDestroy:function(){this.$nuxt.$off("zoomInPoster")},methods:{search:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.searchQuery){e.next=3;break}return e.next=3,t.paginate();case 3:case"end":return e.stop()}}),e)})))()},paginate:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch("fetchMoviesByQuery",{page:t,query:e.searchQuery});case 3:e.paginatedMovies=e.getPaginatedMovies.Search,e.totalItems=e.getPaginatedMovies.totalResults,e.loading=!e.getPaginatedMovies,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},onPageChanged:function(t){this.paginate(t)}},mounted:function(){this.paginate(1)},computed:{getPaginatedMovies:function(){return this.$store.getters.getPaginatedMovies}}}),c=r(68),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pl-4"},[t.loading?r("b-spinner",{staticClass:"spinner",attrs:{label:"Loading..."}}):t._e(),t._v(" "),r("div",[r("b-modal",{attrs:{id:"modal-zoomed-image","ok-only":"","hide-header":"","hide-footer":""}},[r("b-img-lazy",{staticClass:"card-img-top img-adjusted",attrs:{src:t.modalImage}})],1),t._v(" "),r("div",{staticClass:"row pb-3"},[r("h3",{staticClass:"pr-3"},[t._v("Pel√≠culas")]),t._v(" "),r("b-form",{attrs:{inline:""},on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[r("b-form-input",{staticClass:"mr-sm-2",attrs:{id:"searchInput",placeholder:"Escriba un nombre"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),t._v(" "),r("b-button",{staticClass:"my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Buscar")])],1)],1),t._v(" "),r("div",{staticClass:"row pb-4"},t._l(t.paginatedMovies,(function(t,e){return r("div",{key:e,staticClass:"p-2 pb-2"},[r("card",{attrs:{imdbID:t.imdbID,title:t.Title,description:t.Year,image:t.Poster}})],1)})),0),t._v(" "),r("div",{staticClass:"row"},[r("div",{},[r("b-pagination",{staticClass:"my-0",attrs:{pills:"",align:"center","total-rows":t.totalItems,"per-page":t.perPage},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Card:r(300).default})}}]);